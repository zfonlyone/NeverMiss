# 任务0：数据库版本与应用信息集成

## 需求描述
在数据库导出时，需要记录app版本号和数据库版本号，方便数据迁移。

## 技术分析
目前系统已经有部分实现数据库版本管理的代码，主要在 `services/database.ts` 中，但在数据导出功能中尚未包含这些信息。

## 实施计划

### 1. 更新 database.ts
- 修改 `getAppInfo()` 函数，确保返回完整的应用信息
- 确保 `getDatabaseVersion()` 函数返回正确的版本信息

### 2. 更新数据导出函数
- 修改数据导出相关函数，确保包含版本信息
- 包含以下信息：
  - 应用版本号 (APP_INFO.VERSION)
  - 构建号 (APP_INFO.BUILD_NUMBER)
  - 数据库版本号 (APP_INFO.DATABASE_VERSION)
  - 导出时间戳

### 3. 修改数据导入函数
- 在导入数据时，检查版本兼容性
- 如果导入的数据版本高于当前应用支持的版本，给出警告
- 如果导入的数据版本低于当前应用版本，执行必要的数据迁移

### 4. 测试验证
- 测试导出功能，确认版本信息正确包含
- 测试不同版本数据的导入功能
- 验证版本不兼容时的错误处理

## 相关文件
- `config/version.ts` - 包含版本号定义
- `services/database.ts` - 数据库服务
- `services/storageService.ts` - 存储服务

## 注意事项
- 确保不破坏现有的数据结构
- 考虑向后兼容性
- 在实现过程中不要影响现有的用户数据 